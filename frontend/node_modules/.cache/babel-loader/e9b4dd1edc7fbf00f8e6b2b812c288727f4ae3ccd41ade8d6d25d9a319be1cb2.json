{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/singa/Downloads/FSD overall projects/Todo-Project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/singa/Downloads/FSD overall projects/Todo-Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/singa/Downloads/FSD overall projects/Todo-Project/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/singa/Downloads/FSD overall projects/Todo-Project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/singa/Downloads/FSD overall projects/Todo-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import{addTaskApi,updateTaskApi}from'../routerApi/taskApi';import TextField from'@mui/material/TextField';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTask=function AddTask(){var navigate=useNavigate();var _useState=useState({title:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var onChangeFormData=function onChangeFormData(e){var name=e.target.name;var value=e.target.value;setFormData(function(val){return _objectSpread(_objectSpread({},val),{},_defineProperty({},name,value));});};var location=useLocation();var _useState3=useState(location.state),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var actionChange=location.state&&location.state[1]===\"update\"?\"Update Task\":\"Add Task\";var actionChangeForm=function actionChangeForm(){if(location.state&&location.state[1]===\"update\"){document.getElementById(\"title\").value=location.state[0].title;document.getElementById(\"descr\").value=location.state[0].description;setFormData({title:location.state[0].title,description:location.state[0].description});}};useEffect(function(){actionChangeForm();},[]);var onSubmitFormTask=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var resId,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(actionChange===\"Add Task\")){_context.next=7;break;}_context.next=4;return addTaskApi(formData);case 4:navigate(\"/task\",{state:token});_context.next=12;break;case 7:resId=location.state[0]._id;_context.next=10;return updateTaskApi(resId,formData);case 10:res=_context.sent;if(res.data.message===\"Task is Updated\"){navigate(\"/task\",{state:location.state[2]});}case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function onSubmitFormTask(){return _ref.apply(this,arguments);};}();var displayTask=function displayTask(){if(token===null){navigate('/',{state:null});}};useEffect(function(){displayTask();},[token]);var onFormSubmit=function onFormSubmit(e){e.preventDefault();};return/*#__PURE__*/_jsx(\"div\",{className:\"addContainer\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onFormSubmit,children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"To\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"green\"},children:\"Do\"}),\" List\"]}),/*#__PURE__*/_jsx(TextField,{id:\"title\",label:\"Title\",variant:\"outlined\",name:\"title\",style:{margin:'15px'},onChange:onChangeFormData}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{id:\"descr\",placeholder:\"type here....\",label:\"Discription\",variant:\"outlined\",name:\"description\",style:{margin:'15px'},onChange:onChangeFormData}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:onSubmitFormTask,children:actionChange})]})});};export default AddTask;","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","addTaskApi","updateTaskApi","TextField","jsx","_jsx","jsxs","_jsxs","AddTask","navigate","_useState","title","description","_useState2","_slicedToArray","formData","setFormData","onChangeFormData","e","name","target","value","val","_objectSpread","_defineProperty","location","_useState3","state","_useState4","token","setToken","actionChange","actionChangeForm","document","getElementById","onSubmitFormTask","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resId","res","wrap","_callee$","_context","prev","next","_id","sent","data","message","t0","console","log","stop","apply","arguments","displayTask","onFormSubmit","preventDefault","className","children","onSubmit","style","color","id","label","variant","margin","onChange","placeholder","onClick"],"sources":["C:/Users/singa/Downloads/FSD overall projects/Todo-Project/client/src/Component/AddTask.js"],"sourcesContent":["import React,{useEffect, useState} from 'react'\r\nimport { useLocation, useNavigate } from 'react-router-dom'\r\nimport { addTaskApi, updateTaskApi } from '../routerApi/taskApi'\r\nimport TextField from '@mui/material/TextField';\r\n\r\nconst AddTask = () => {\r\n    const navigate=useNavigate()\r\n const[formData,setFormData]=useState({\r\n    title:\"\",\r\n    description:\"\"\r\n })\r\n\r\n const onChangeFormData=(e)=>{\r\n    const name=e.target.name\r\n    const value=e.target.value\r\n    setFormData((val)=>({...val,[name]:value}))\r\n }\r\nconst location=useLocation()\r\nconst [token,setToken]=useState(location.state)\r\n\r\nlet actionChange=location.state && location.state[1]===\"update\"?\"Update Task\":\"Add Task\"\r\n const actionChangeForm=()=>{\r\n    if(location.state&&location.state[1]===\"update\"){\r\ndocument.getElementById(\"title\").value=location.state[0].title\r\ndocument.getElementById(\"descr\").value=location.state[0].description\r\nsetFormData({\r\n    title:location.state[0].title,\r\n    description:location.state[0].description\r\n})\r\n    }\r\n }\r\nuseEffect(()=>{\r\n    actionChangeForm()\r\n},[])\r\n\r\nconst onSubmitFormTask=async()=>{\r\n    try{\r\n        if(actionChange===\"Add Task\"){\r\n            await addTaskApi(formData)\r\n            navigate(\"/task\",{state:token})\r\n           \r\n        }else{\r\n            let resId=location.state[0]._id\r\n            const res=await updateTaskApi(resId,formData)\r\n            if(res.data.message===\"Task is Updated\"){\r\n                navigate(\"/task\",{state:location.state[2]})\r\n            }\r\n        }\r\n\r\n    }catch(e){\r\n        console.log(e)\r\n    }\r\n\r\n}\r\nconst displayTask=()=>{\r\n    if(token===null){\r\n        navigate('/',{state:null})\r\n    }\r\n}\r\nuseEffect(()=>{\r\n    displayTask()\r\n},[token])\r\n\r\n const onFormSubmit=(e)=>{\r\ne.preventDefault()\r\n }\r\n  return (\r\n   <div className='addContainer'>\r\n\r\n    <form onSubmit={onFormSubmit} >\r\n    <h1>To<span style={{color:\"green\"}}>Do</span> List</h1>\r\n       <TextField id=\"title\"  label=\"Title\" variant=\"outlined\" name='title' style={{ margin: '15px' }} onChange={onChangeFormData} />\r\n        <br />\r\n        <TextField id=\"descr\" placeholder='type here....' label=\"Discription\" variant=\"outlined\" name='description' style={{ margin: '15px' }} onChange={onChangeFormData} />\r\n        <br />\r\n        <button  onClick={onSubmitFormTask}>{actionChange}</button>\r\n\r\n      </form>\r\n   </div>\r\n       \r\n      \r\n   \r\n  )\r\n}\r\n\r\nexport default AddTask\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}