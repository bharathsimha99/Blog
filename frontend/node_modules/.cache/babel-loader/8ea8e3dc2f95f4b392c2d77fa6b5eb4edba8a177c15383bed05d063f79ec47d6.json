{"ast":null,"code":"import _regeneratorRuntime from\"B:/FSD overall projects/Todo-Project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"B:/FSD overall projects/Todo-Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"B:/FSD overall projects/Todo-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import{deleteTaskApi}from'../routerApi/taskApi';import Button from'@mui/material/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Task=function Task(){var location=useLocation();console.log(\"location\",location.state);var _useState=useState(location.state),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var navigate=useNavigate();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),taskData=_useState4[0],setTaskData=_useState4[1];//get data\nvar getAllData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(token===null)){_context.next=5;break;}navigate(\"/\",{state:null});_context.next=10;break;case 5:_context.next=7;return axios.get(\"https://todolist-c8wk.onrender.com/myData\",{headers:{\"N-Token\":token}});case 7:res=_context.sent;console.log(\"res\",res.data);setTaskData(res.data);case 10:_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function getAllData(){return _ref.apply(this,arguments);};}();useEffect(function(){getAllData();},[token]);var onCreateTask=function onCreateTask(){navigate(\"/addTask\",{state:token});};var onEditTask=function onEditTask(val){var action=\"update\";navigate(\"/addTask\",{state:[val,action,token]});};var onDeleteTask=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return deleteTaskApi(id);case 3:res=_context2.sent;console.log(res.data);if(res.data.message===\"task is deleted\"){getAllData();}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function onDeleteTask(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-success m-3 text-white\",onClick:onCreateTask,children:\"Create\"}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:\"85%\"},type:\"button\",class:\"btn btn-primary  text-white\",onClick:function onClick(){return setToken(null);},children:\"LogOut\"}),/*#__PURE__*/_jsxs(\"h1\",{className:\"Tit\",children:[\"To\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"green\"},children:\"Do\"}),\" List\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mainCard\",children:taskData.map(function(val){return/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"card-title text-danger\",children:val.title}),/*#__PURE__*/_jsx(\"p\",{class:\"card-text\",children:val.description}),/*#__PURE__*/_jsx(Button,{style:{margin:\"5px\"},onClick:function onClick(){return onEditTask(val);},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",height:\"1.5em\",viewBox:\"0 0 512 512\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z\"})})}),/*#__PURE__*/_jsx(Button,{style:{margin:\"5px\"},onClick:function onClick(){return onDeleteTask(val._id);},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",height:\"1.5em\",viewBox:\"0 0 448 512\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z\"})})})]})});})})]});};export default Task;","map":{"version":3,"names":["axios","React","useEffect","useState","useLocation","useNavigate","deleteTaskApi","Button","jsx","_jsx","jsxs","_jsxs","Task","location","console","log","state","_useState","_useState2","_slicedToArray","token","setToken","navigate","_useState3","_useState4","taskData","setTaskData","getAllData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","headers","sent","data","t0","stop","apply","arguments","onCreateTask","onEditTask","val","action","onDeleteTask","_ref2","_callee2","id","_callee2$","_context2","message","_x","children","type","class","onClick","style","marginLeft","className","color","map","title","description","margin","xmlns","height","viewBox","d","_id"],"sources":["B:/FSD overall projects/Todo-Project/client/src/Component/Task.js"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useLocation, useNavigate } from 'react-router-dom'\r\nimport { deleteTaskApi } from '../routerApi/taskApi';\r\nimport Button from '@mui/material/Button';\r\n\r\nconst Task = () => {\r\n  const location = useLocation()\r\n  console.log(\"location\", location.state)\r\n  const [token, setToken] = useState(location.state)\r\n  const navigate = useNavigate()\r\n  const [taskData, setTaskData] = useState([])\r\n  //get data\r\n  const getAllData = async () => {\r\n    try {\r\n      if (token === null) {\r\n        navigate(\"/\", { state: null })\r\n\r\n      } else {\r\n        const res = await axios.get(\"https://todolist-c8wk.onrender.com/myData\", { headers: { \"N-Token\": token } })\r\n        console.log(\"res\", res.data)\r\n        setTaskData(res.data)\r\n      }\r\n\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n\r\n  }\r\n  useEffect(() => {\r\n    getAllData()\r\n  }, [token])\r\n\r\n  const onCreateTask = () => {\r\n    navigate(\"/addTask\", { state: token })\r\n  }\r\n  const onEditTask = (val) => {\r\n    let action = \"update\"\r\n    navigate(\"/addTask\", { state: [val, action, token] })\r\n  }\r\n\r\n\r\n  const onDeleteTask = async (id) => {\r\n    try {\r\n      const res = await deleteTaskApi(id)\r\n      console.log(res.data)\r\n      if (res.data.message === \"task is deleted\") {\r\n        getAllData()\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      \r\n      <nav>\r\n        <button type=\"button\" class=\"btn btn-success m-3 text-white\" onClick={onCreateTask}>Create</button>\r\n        <button style={{marginLeft:\"85%\"}} type=\"button\" class=\"btn btn-primary  text-white\" onClick={() => setToken(null)}>LogOut</button>\r\n        <h1 className='Tit'>To<span style={{color:\"green\"}}>Do</span> List</h1>\r\n      </nav>\r\n      <div className='mainCard'>\r\n      {\r\n        taskData.map((val) => {\r\n          return (\r\n            \r\n            <div class=\"card\">\r\n             <div class=\"card-body\">\r\n                <h5 class=\"card-title text-danger\">{val.title}</h5>\r\n                <p class=\"card-text\">{val.description}</p>\r\n                <Button style={{ margin: \"5px\" }} onClick={() => onEditTask(val)}><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1.5em\" viewBox=\"0 0 512 512\"><path d=\"M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z\"/></svg></Button>\r\n                <Button style={{ margin: \"5px\" }} onClick={() => onDeleteTask(val._id)}><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1.5em\" viewBox=\"0 0 448 512\"><path d=\"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z\"/></svg></Button>\r\n                </div>\r\n            </div>\r\n\r\n          )\r\n        })\r\n      }\r\n</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Task\r\n    "],"mappings":"mZAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,aAAa,KAAQ,sBAAsB,CACpD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CACjB,GAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9BU,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEF,QAAQ,CAACG,KAAK,CAAC,CACvC,IAAAC,SAAA,CAA0Bd,QAAQ,CAACU,QAAQ,CAACG,KAAK,CAAC,CAAAE,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,GAAM,CAAAI,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAC9B,IAAAkB,UAAA,CAAgCpB,QAAQ,CAAC,EAAE,CAAC,CAAAqB,UAAA,CAAAL,cAAA,CAAAI,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B;AACA,GAAM,CAAAG,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,QAEXjB,KAAK,GAAK,IAAI,GAAAgB,QAAA,CAAAE,IAAA,UAChBhB,QAAQ,CAAC,GAAG,CAAE,CAAEN,KAAK,CAAE,IAAK,CAAC,CAAC,CAAAoB,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAE,IAAA,SAGZ,CAAAtC,KAAK,CAACuC,GAAG,CAAC,2CAA2C,CAAE,CAAEC,OAAO,CAAE,CAAE,SAAS,CAAEpB,KAAM,CAAE,CAAC,CAAC,QAArGa,GAAG,CAAAG,QAAA,CAAAK,IAAA,CACT3B,OAAO,CAACC,GAAG,CAAC,KAAK,CAAEkB,GAAG,CAACS,IAAI,CAAC,CAC5BhB,WAAW,CAACO,GAAG,CAACS,IAAI,CAAC,SAAAN,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAIvBtB,OAAO,CAACC,GAAG,CAAAqB,QAAA,CAAAO,EAAE,CAAC,0BAAAP,QAAA,CAAAQ,IAAA,MAAAZ,OAAA,iBAGjB,kBAfK,CAAAL,UAAUA,CAAA,SAAAC,IAAA,CAAAiB,KAAA,MAAAC,SAAA,OAef,CACD5C,SAAS,CAAC,UAAM,CACdyB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACP,KAAK,CAAC,CAAC,CAEX,GAAM,CAAA2B,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBzB,QAAQ,CAAC,UAAU,CAAE,CAAEN,KAAK,CAAEI,KAAM,CAAC,CAAC,CACxC,CAAC,CACD,GAAM,CAAA4B,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,GAAG,CAAK,CAC1B,GAAI,CAAAC,MAAM,CAAG,QAAQ,CACrB5B,QAAQ,CAAC,UAAU,CAAE,CAAEN,KAAK,CAAE,CAACiC,GAAG,CAAEC,MAAM,CAAE9B,KAAK,CAAE,CAAC,CAAC,CACvD,CAAC,CAGD,GAAM,CAAA+B,YAAY,6BAAAC,KAAA,CAAAvB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAsB,SAAOC,EAAE,MAAArB,GAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAqB,UAAAC,SAAA,iBAAAA,SAAA,CAAAnB,IAAA,CAAAmB,SAAA,CAAAlB,IAAA,SAAAkB,SAAA,CAAAnB,IAAA,GAAAmB,SAAA,CAAAlB,IAAA,SAER,CAAAhC,aAAa,CAACgD,EAAE,CAAC,QAA7BrB,GAAG,CAAAuB,SAAA,CAAAf,IAAA,CACT3B,OAAO,CAACC,GAAG,CAACkB,GAAG,CAACS,IAAI,CAAC,CACrB,GAAIT,GAAG,CAACS,IAAI,CAACe,OAAO,GAAK,iBAAiB,CAAE,CAC1C9B,UAAU,CAAC,CAAC,CACd,CAAC6B,SAAA,CAAAlB,IAAA,iBAAAkB,SAAA,CAAAnB,IAAA,GAAAmB,SAAA,CAAAb,EAAA,CAAAa,SAAA,aAED1C,OAAO,CAACC,GAAG,CAAAyC,SAAA,CAAAb,EAAE,CAAC,0BAAAa,SAAA,CAAAZ,IAAA,MAAAS,QAAA,gBAEjB,kBAVK,CAAAF,YAAYA,CAAAO,EAAA,SAAAN,KAAA,CAAAP,KAAA,MAAAC,SAAA,OAUjB,CACD,mBACEnC,KAAA,QAAAgD,QAAA,eAEEhD,KAAA,QAAAgD,QAAA,eACElD,IAAA,WAAQmD,IAAI,CAAC,QAAQ,CAACC,KAAK,CAAC,gCAAgC,CAACC,OAAO,CAAEf,YAAa,CAAAY,QAAA,CAAC,QAAM,CAAQ,CAAC,cACnGlD,IAAA,WAAQsD,KAAK,CAAE,CAACC,UAAU,CAAC,KAAK,CAAE,CAACJ,IAAI,CAAC,QAAQ,CAACC,KAAK,CAAC,6BAA6B,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAzC,QAAQ,CAAC,IAAI,CAAC,EAAC,CAAAsC,QAAA,CAAC,QAAM,CAAQ,CAAC,cACnIhD,KAAA,OAAIsD,SAAS,CAAC,KAAK,CAAAN,QAAA,EAAC,IAAE,cAAAlD,IAAA,SAAMsD,KAAK,CAAE,CAACG,KAAK,CAAC,OAAO,CAAE,CAAAP,QAAA,CAAC,IAAE,CAAM,CAAC,QAAK,EAAI,CAAC,EACpE,CAAC,cACNlD,IAAA,QAAKwD,SAAS,CAAC,UAAU,CAAAN,QAAA,CAEvBlC,QAAQ,CAAC0C,GAAG,CAAC,SAAClB,GAAG,CAAK,CACpB,mBAEExC,IAAA,QAAKoD,KAAK,CAAC,MAAM,CAAAF,QAAA,cAChBhD,KAAA,QAAKkD,KAAK,CAAC,WAAW,CAAAF,QAAA,eACnBlD,IAAA,OAAIoD,KAAK,CAAC,wBAAwB,CAAAF,QAAA,CAAEV,GAAG,CAACmB,KAAK,CAAK,CAAC,cACnD3D,IAAA,MAAGoD,KAAK,CAAC,WAAW,CAAAF,QAAA,CAAEV,GAAG,CAACoB,WAAW,CAAI,CAAC,cAC1C5D,IAAA,CAACF,MAAM,EAACwD,KAAK,CAAE,CAAEO,MAAM,CAAE,KAAM,CAAE,CAACR,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAd,UAAU,CAACC,GAAG,CAAC,EAAC,CAAAU,QAAA,cAAClD,IAAA,QAAK8D,KAAK,CAAC,4BAA4B,CAACC,MAAM,CAAC,OAAO,CAACC,OAAO,CAAC,aAAa,CAAAd,QAAA,cAAClD,IAAA,SAAMiE,CAAC,CAAC,sQAAsQ,CAAC,CAAC,CAAK,CAAC,CAAQ,CAAC,cAC9ajE,IAAA,CAACF,MAAM,EAACwD,KAAK,CAAE,CAAEO,MAAM,CAAE,KAAM,CAAE,CAACR,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAX,YAAY,CAACF,GAAG,CAAC0B,GAAG,CAAC,EAAC,CAAAhB,QAAA,cAAClD,IAAA,QAAK8D,KAAK,CAAC,4BAA4B,CAACC,MAAM,CAAC,OAAO,CAACC,OAAO,CAAC,aAAa,CAAAd,QAAA,cAAClD,IAAA,SAAMiE,CAAC,CAAC,gQAAgQ,CAAC,CAAC,CAAK,CAAC,CAAQ,CAAC,EACza,CAAC,CACL,CAAC,CAGV,CAAC,CAAC,CAEL,CAAC,EACG,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9D,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}