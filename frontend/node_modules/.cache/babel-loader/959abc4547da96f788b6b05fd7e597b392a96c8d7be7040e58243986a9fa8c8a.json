{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\singa\\\\Downloads\\\\FSD overall projects\\\\Todo-Project\\\\client\\\\src\\\\Component\\\\AddTask.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { addTaskApi, updateTaskApi } from '../routerApi/taskApi';\nimport TextField from '@mui/material/TextField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddTask = () => {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    title: \"\",\n    description: \"\"\n  });\n  const onChangeFormData = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setFormData(val => ({\n      ...val,\n      [name]: value\n    }));\n  };\n  const location = useLocation();\n  const [token, setToken] = useState(location.state);\n  let actionChange = location.state && location.state[1] === \"update\" ? \"Update Task\" : \"Add Task\";\n  const actionChangeForm = () => {\n    if (location.state && location.state[1] === \"update\") {\n      document.getElementById(\"title\").value = location.state[0].title;\n      document.getElementById(\"descr\").value = location.state[0].description;\n      setFormData({\n        title: location.state[0].title,\n        description: location.state[0].description\n      });\n    }\n  };\n  useEffect(() => {\n    actionChangeForm();\n  }, []);\n  const onSubmitFormTask = async () => {\n    try {\n      if (actionChange === \"Add Task\") {\n        await addTaskApi(formData);\n        navigate(\"/task\", {\n          state: token\n        });\n      } else {\n        let resId = location.state[0]._id;\n        const res = await updateTaskApi(resId, formData);\n        if (res.data.message === \"Task is Updated\") {\n          navigate(\"/task\", {\n            state: location.state[2]\n          });\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  const displayTask = () => {\n    if (token === null) {\n      navigate('/', {\n        state: null\n      });\n    }\n  };\n  useEffect(() => {\n    displayTask();\n  }, [token]);\n  const onFormSubmit = e => {\n    e.preventDefault();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 4\n  }, this);\n};\n_s(AddTask, \"+7yB03u0FG3gcENjJmGVwIv50zk=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = AddTask;\nexport default AddTask;\nvar _c;\n$RefreshReg$(_c, \"AddTask\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","addTaskApi","updateTaskApi","TextField","jsxDEV","_jsxDEV","AddTask","_s","navigate","formData","setFormData","title","description","onChangeFormData","e","name","target","value","val","location","token","setToken","state","actionChange","actionChangeForm","document","getElementById","onSubmitFormTask","resId","_id","res","data","message","console","log","displayTask","onFormSubmit","preventDefault","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/singa/Downloads/FSD overall projects/Todo-Project/client/src/Component/AddTask.js"],"sourcesContent":["import React,{useEffect, useState} from 'react'\r\nimport { useLocation, useNavigate } from 'react-router-dom'\r\nimport { addTaskApi, updateTaskApi } from '../routerApi/taskApi'\r\nimport TextField from '@mui/material/TextField';\r\n\r\nconst AddTask = () => {\r\n    const navigate=useNavigate()\r\n const[formData,setFormData]=useState({\r\n    title:\"\",\r\n    description:\"\"\r\n })\r\n\r\n const onChangeFormData=(e)=>{\r\n    const name=e.target.name\r\n    const value=e.target.value\r\n    setFormData((val)=>({...val,[name]:value}))\r\n }\r\nconst location=useLocation()\r\nconst [token,setToken]=useState(location.state)\r\n\r\nlet actionChange=location.state && location.state[1]===\"update\"?\"Update Task\":\"Add Task\"\r\n const actionChangeForm=()=>{\r\n    if(location.state&&location.state[1]===\"update\"){\r\ndocument.getElementById(\"title\").value=location.state[0].title\r\ndocument.getElementById(\"descr\").value=location.state[0].description\r\nsetFormData({\r\n    title:location.state[0].title,\r\n    description:location.state[0].description\r\n})\r\n    }\r\n }\r\nuseEffect(()=>{\r\n    actionChangeForm()\r\n},[])\r\n\r\nconst onSubmitFormTask=async()=>{\r\n    try{\r\n        if(actionChange===\"Add Task\"){\r\n            await addTaskApi(formData)\r\n            navigate(\"/task\",{state:token})\r\n           \r\n        }else{\r\n            let resId=location.state[0]._id\r\n            const res=await updateTaskApi(resId,formData)\r\n            if(res.data.message===\"Task is Updated\"){\r\n                navigate(\"/task\",{state:location.state[2]})\r\n            }\r\n        }\r\n\r\n    }catch(e){\r\n        console.log(e)\r\n    }\r\n\r\n}\r\nconst displayTask=()=>{\r\n    if(token===null){\r\n        navigate('/',{state:null})\r\n    }\r\n}\r\nuseEffect(()=>{\r\n    displayTask()\r\n},[token])\r\n\r\n const onFormSubmit=(e)=>{\r\ne.preventDefault()\r\n }\r\n  return (\r\n   <div>\r\n\r\n    \r\n   </div>\r\n       \r\n      \r\n   \r\n  )\r\n}\r\n\r\nexport default AddTask\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}